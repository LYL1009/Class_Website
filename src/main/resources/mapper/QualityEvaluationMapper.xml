<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.lee.mapper.QualityEvaluationMapper">
    <resultMap id="BaseResultMap" type="com.lee.entity.QualityEvaluation">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        <id column="id" javaType="INTEGER" property="id"/>
        <result column="user_id" jdbcType="INTEGER" property="userId"/>
        <result column="morality" jdbcType="VARCHAR" property="morality"/>
        <result column="intelligence" jdbcType="VARCHAR" property="intelligence"/>
        <result column="physique" jdbcType="VARCHAR" property="physique"/>
        <result column="aesthetics" jdbcType="VARCHAR" property="aesthetics"/>
        <result column="labour" jdbcType="VARCHAR" property="labour"/>
        <result column="total_score" jdbcType="VARCHAR" property="totalScore"/>
        <result column="semester" jdbcType="VARCHAR" property="semester"/>
    </resultMap>

    <select id="selectAll" resultMap="BaseResultMap">
        SELECT id,user_id,morality,intelligence,physique,aesthetics,labour,total_score,semester
        FROM `t_quality_evaluation` ORDER BY total_score+0 DESC, intelligence+0 DESC
    </select>

    <select id="selectAllBySemester" parameterType="java.lang.String" resultMap="BaseResultMap">
        SELECT id,user_id,morality,intelligence,physique,aesthetics,labour,total_score,semester
        FROM `t_quality_evaluation` WHERE semester=#{semester} ORDER BY total_score+0 DESC, intelligence+0 DESC
    </select>

    <select id="selectAllByUserId" parameterType="java.lang.Integer" resultMap="BaseResultMap">
        SELECT id,user_id,morality,intelligence,physique,aesthetics,labour,total_score,semester
        FROM `t_quality_evaluation` WHERE user_id=#{userId} ORDER BY total_score+0 DESC, intelligence+0 DESC
    </select>

    <select id="getQualityEvaluationById" parameterType="java.lang.Integer" resultMap="BaseResultMap">
        SELECT id,user_id,morality,intelligence,physique,aesthetics,labour,total_score,semester
        FROM `t_quality_evaluation` WHERE id=#{id}
    </select>

    <insert id="insert" parameterType="com.lee.entity.QualityEvaluation">
        insert into t_quality_evaluation (user_id, morality, intelligence, physique, aesthetics, labour, total_score, semester)
        values (#{userId}, #{morality}, #{intelligence}, #{physique}, #{aesthetics}, #{labour}, #{totalScore}, #{semester})
    </insert>

    <update id="update" parameterType="com.lee.entity.QualityEvaluation">
        update t_quality_evaluation
        set morality=#{morality}, intelligence=#{intelligence}, physique=#{physique},
            aesthetics=#{aesthetics}, labour=#{labour}, total_score=#{totalScore}
        where id=#{id}
    </update>
</mapper>